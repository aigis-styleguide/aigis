<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <link href="../../../doc_assets/css/okadia.css" rel="stylesheet">
    <link href="../../../doc_assets/css/doc.css" rel="stylesheet">
  </head>
  <body>
    <header class="doc-Header">
  <nav class="doc-Header_Nav">
    <div class="doc-Header_Col-left">
      <a class="doc-Header_Home" href="../../../../../">
        aigis
      </a>
    </div>
    <div class="doc-Header_Col-right">
      <ul class="doc-Header_Menu">
        <li class="doc-Header_MenuItem">Docs</li>
        <li class="doc-Header_MenuItem"><a href="../../../../../sample/" target="_blank">Sample</a></li>
        <li class="doc-Header_MenuItem"><a href="https://github.com/pxgrid/aigis/" target="_blank">GitHub</a></li>
      </ul>
    </div>
  </nav>
</header>

    <main class="doc-Body">
      <div class="doc-Body_Col-left">
        <nav class="doc-Menu">
  <a href="../../../">Index</a>
  <ul data-path-depth="0"><li data-path-depth="0"><a href="../../../category/Documentation/index.html">Documentation</a><ul data-path-depth="1"><li data-path-depth="1"><a href="../../../category/Documentation/Comment-Syntax/index.html">Comment Syntax</a></li><li data-path-depth="1"><a href="../../../category/Documentation/Configs/index.html">Configs</a></li><li data-path-depth="1"><a href="../../../category/Documentation/Syntax-Highlight/index.html">Syntax Highlight</a></li><li data-path-depth="1"><a href="../../../category/Documentation/Templates/index.html" data-tree-current>Templates</a></li></ul></li><li data-path-depth="0"><a href="../../../category/Guide/index.html">Guide</a><ul data-path-depth="1"><li data-path-depth="1"><a href="../../../category/Guide/Quick-Start/index.html">Quick Start</a></li></ul></li><li data-path-depth="0"><a href="../../../category/Tips/index.html">Tips</a><ul data-path-depth="1"><li data-path-depth="1"><a href="../../../category/Tips/Errors/index.html">Errors</a></li><li data-path-depth="1"><a href="../../../category/Tips/How-to/index.html">How to</a></li></ul></li><li data-path-depth="0"><a href="../../../category/Usage/index.html">Usage</a><ul data-path-depth="1"><li data-path-depth="1"><a href="../../../category/Usage/CLI/index.html">CLI</a></li><li data-path-depth="1"><a href="../../../category/Usage/Node.js/index.html">Node.js</a></li><li data-path-depth="1"><a href="../../../category/Usage/gulp/index.html">gulp</a></li></ul></li></ul>
</nav>

      </div>
      <div class="doc-Body_Col-right">
        <div class="doc-Modules">
  
    
      <div class="doc-Module">
        <h1 class="doc-Module_heading" id="Templates">
          Templates
        </h1>
        <blockquote>
<p> You are free to make your style guide look however you would like. If you don&#39;t feel like going through this process yourself, you can take a look at the templates in our <a href="https://github.com/pxgrid/aigis/tree/master/examples" title="null">examples</a> and <a href="https://github.com/pxgrid/aigis-docs/tree/gh-pages/src/template" title="null">this document&#39;s assets</a>, and use the assets defined there instead.</p>
</blockquote>
<p>Aigis require HTML templates. You can choose template engine from the following list.</p>
<ul>
<li>EJS: <code>.ejs</code></li>
<li>Jade: <code>.jade</code></li>
<li>Handlebars: <code>.hbs</code></li>
</ul>
<p>You have to create <code>index.xxx</code>. (xxx is <code>ejs</code> or <code>jade</code> or <code>hbs</code>)</p>
<h2 id="index-template">Index Template</h2>
<p>Aigis needs <code>index.xxx</code> (e.g. index.jade) for generating a style guide.</p>
<blockquote>
<h4 id="naming-for-template-file-of-index-page">Naming for template file of index page</h4>
<ul>
<li>If you specified <code>template_engine: ejs</code>, aigis will need <code>index.ejs</code>.</li>
<li>If you specified <code>template_engine: jade</code>, aigis will need <code>index.jade</code>.</li>
<li>If you specified <code>template_engine: hbs</code>, aigis will need <code>index.hbs</code>.</li>
</ul>
</blockquote>
<p>Please refer <a href="../Documentation/Configs/" title="null">Documentation/Configs</a> about more details for <code>template_engine</code> option.</p>
<h3 id="sample-template">Sample Template</h3>
<p>This is EJS sample template. Aigis pass referenced values to template when aigis generated style guide.</p>
<pre><code class="lang-ejs"><span class="token doctype" >&lt;!DOCTYPE html></span>
<span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>html</span><span class="token punctuation" >></span></span>
  <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>head</span><span class="token punctuation" >></span></span>
    <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>meta</span> <span class="token attr-name" >charset</span><span class="token attr-value" ><span class="token punctuation" >=</span><span class="token punctuation" >"</span>utf-8<span class="token punctuation" >"</span></span><span class="token punctuation" >></span></span>
    <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>link</span> <span class="token attr-name" >href</span><span class="token attr-value" ><span class="token punctuation" >=</span><span class="token punctuation" >"</span>&lt;%<span class="token punctuation" >=</span> root %<span class="token punctuation" >></span>aigis_assets/css/doc.css<span class="token punctuation" >"</span></span> <span class="token attr-name" >rel</span><span class="token attr-value" ><span class="token punctuation" >=</span><span class="token punctuation" >"</span>stylesheet<span class="token punctuation" >"</span></span><span class="token punctuation" >></span></span>
  <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>head</span><span class="token punctuation" >></span></span>
  <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>body</span><span class="token punctuation" >></span></span>
    <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>header</span><span class="token punctuation" >></span></span>
      <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>%-</span> <span class="token attr-name" >config.name</span> <span class="token attr-name" >%</span><span class="token punctuation" >></span></span>
    <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>header</span><span class="token punctuation" >></span></span>
    <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>nav</span><span class="token punctuation" >></span></span>
      <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>%-</span> <span class="token attr-name" >helper.renderCollectionTree('category')</span> <span class="token attr-name" >%</span><span class="token punctuation" >></span></span>
    <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>nav</span><span class="token punctuation" >></span></span>
    <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>main</span><span class="token punctuation" >></span></span>
      <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>%-</span> <span class="token attr-name" >html</span> <span class="token attr-name" >%</span><span class="token punctuation" >></span></span>
      <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>%</span> <span class="token attr-name" >if(components.length)</span> <span class="token attr-name" >{</span> <span class="token attr-name" >%</span><span class="token punctuation" >></span></span>
        &lt;% components.forEach((component) => { %>
          <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>%-</span> <span class="token attr-name" >component.config.name</span> <span class="token attr-name" >%</span><span class="token punctuation" >></span></span>
          <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>%-</span> <span class="token attr-name" >component.html</span> <span class="token attr-name" >%</span><span class="token punctuation" >></span></span>
        <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>%</span> <span class="token attr-name" >})</span> <span class="token attr-name" >%</span><span class="token punctuation" >></span></span>
      <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>%</span> <span class="token attr-name" >}</span> <span class="token attr-name" >%</span><span class="token punctuation" >></span></span>
    <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>main</span><span class="token punctuation" >></span></span>
    <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>footer</span><span class="token punctuation" >></span></span>Last updated: <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>%-</span> <span class="token attr-name" >timestamp</span> <span class="token attr-name" >%</span><span class="token punctuation" >></span></span><span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>footer</span><span class="token punctuation" >></span></span>
  <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>body</span><span class="token punctuation" >></span></span>
<span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>html</span><span class="token punctuation" >></span></span>
</code></pre>
<h1 id="pass-values">Pass values</h1>
<p>When style guide was generated, aigis will pass the following values.</p>
<table>
<thead>
<tr>
<th  >Name</th>
<th  >Type</th>
</tr>
</thead>
<tbody>
<tr>
<td  >components</td>
<td  >Array</td>
</tr>
<tr>
<td  >html</td>
<td  >String</td>
</tr>
<tr>
<td  >root</td>
<td  >String</td>
</tr>
<tr>
<td  >config</td>
<td  >Object</td>
</tr>
<tr>
<td  >timestamp</td>
<td  >String</td>
</tr>
<tr>
<td  >helper</td>
<td  >Object</td>
</tr>
</tbody>
</table>
<h2 id="components">components</h2>
<p><code>component</code> value is Array which contains Object. The Object has HTML of the component.</p>
<p>For example, you wrote the following component in your CSS.</p>
<pre><code class="lang-yaml"><span class="token punctuation" >---</span>
<span class="token key atrule" >name</span><span class="token punctuation" >:</span> component name
<span class="token key atrule" >category</span><span class="token punctuation" >:</span>
  <span class="token punctuation" >-</span> mod
  <span class="token punctuation" >-</span> btn
<span class="token punctuation" >---</span>

<span class="token comment" spellcheck="true">## component</span>

this is component!
</code></pre>
<p><code>components[0]</code> contains the following Object.</p>
<pre><code class="lang-js"><span class="token punctuation" >{</span>
  md<span class="token punctuation" >:</span> <span class="token string" >'## component\n\nthis is component!'</span><span class="token punctuation" >,</span> <span class="token comment" spellcheck="true">// Document for this component</span>
  html<span class="token punctuation" >:</span> <span class="token string" >'&lt;h2>component&lt;/h2>&lt;p>this is component&lt;/p>'</span><span class="token punctuation" >,</span> <span class="token comment" spellcheck="true">// Parsed html of document</span>
  config<span class="token punctuation" >:</span> <span class="token punctuation" >{</span> <span class="token comment" spellcheck="true">// Configurations for this component</span>
    name<span class="token punctuation" >:</span> <span class="token string" >'component name'</span><span class="token punctuation" >,</span>
    category<span class="token punctuation" >:</span> <span class="token punctuation" >[</span><span class="token string" >'mod'</span><span class="token punctuation" >,</span> <span class="token string" >'btn'</span><span class="token punctuation" >]</span> 
  <span class="token punctuation" >}</span><span class="token punctuation" >,</span>
  sourcePath<span class="token punctuation" >:</span> <span class="token string" >'/css/style.css'</span> <span class="token comment" spellcheck="true">// File path for this document</span>
<span class="token punctuation" >}</span>
</code></pre>
<h2 id="html">html</h2>
<p><code>html</code> value contains HTML result of the parsed Markdown.</p>
<p>In <code>index.ejs</code>, you can write a template for rendering a page of index and component on the same page as follows.</p>
<pre><code class="lang-html"><span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>main</span><span class="token punctuation" >></span></span>
  <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>%-</span> <span class="token attr-name" >html</span> <span class="token attr-name" >%</span><span class="token punctuation" >></span></span>
  <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>%</span> <span class="token attr-name" >if(components.length)</span> <span class="token attr-name" >{</span> <span class="token attr-name" >%</span><span class="token punctuation" >></span></span>
  ...
  <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>%</span> <span class="token attr-name" >}</span> <span class="token attr-name" >%</span><span class="token punctuation" >></span></span>
<span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>main</span><span class="token punctuation" >></span></span>
</code></pre>
<h2 id="root">root</h2>
<p><code>root</code> value contains a relative path is the <code>dest</code> directory in your configuration file from generated page
This value is used to write a relative path which is interpreted a css file in <code>&lt;head&gt;</code>.
If you want to use an absolute path, you don&#39;t need to use this value.</p>
<blockquote>
<h4 id="example">Example</h4>
<pre><code class="lang-ejs"><span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>link</span> <span class="token attr-name" >href</span><span class="token attr-value" ><span class="token punctuation" >=</span><span class="token punctuation" >"</span>&lt;%<span class="token punctuation" >=</span> root %<span class="token punctuation" >></span>aigis_assets/css/doc.css<span class="token punctuation" >"</span></span> <span class="token attr-name" >rel</span><span class="token attr-value" ><span class="token punctuation" >=</span><span class="token punctuation" >"</span>stylesheet<span class="token punctuation" >"</span></span><span class="token punctuation" >></span></span>
</code></pre>
</blockquote>
<h2 id="config">config</h2>
<p><code>config</code> value contains an Object which has a detail of a configuration file (<code>aigis_config.yml</code>)
For example, you can refer <code>config.name</code> in your template file if you want to use <code>name</code> in your configuration file.</p>
<blockquote>
<h4 id="example">Example</h4>
<p>config:</p>
<pre><code class="lang-yaml"><span class="token key atrule" >name</span><span class="token punctuation" >:</span> styleguide!
</code></pre>
<p>template:</p>
<pre><code class="lang-ejs"><span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>header</span><span class="token punctuation" >></span></span>
  <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>%-</span> <span class="token attr-name" >config.name</span> <span class="token attr-name" >%</span><span class="token punctuation" >></span></span>
<span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>header</span><span class="token punctuation" >></span></span>
</code></pre>
<p>output:</p>
<pre><code class="lang-html"><span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>header</span><span class="token punctuation" >></span></span>
  styleguide!
<span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>header</span><span class="token punctuation" >></span></span>
</code></pre>
</blockquote>
<h2 id="timestamp">timestamp</h2>
<p><code>timestamp</code> value contains a time from the execution end time of <code>aigis run</code>.
The format of this value can be specified <code>timestamp_format</code> in configuration file.
Please refer <a href="http://momentjs.com/docs/#week-year-week-and-weekday-tokens" title="null">Moment.js format</a> for the format of <code>timestamp_format</code></p>
<blockquote>
<h4 id="example">Example</h4>
<p>config:</p>
<pre><code class="lang-yaml"><span class="token key atrule" >timestamp_format</span><span class="token punctuation" >:</span> YYYY/MM/DD HH<span class="token punctuation" >:</span>mm
</code></pre>
<p>template:</p>
<pre><code class="lang-ejs"><span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>footer</span><span class="token punctuation" >></span></span>
  <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>%-</span> <span class="token attr-name" >timestamp</span> <span class="token attr-name" >%</span><span class="token punctuation" >></span></span>
<span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>footer</span><span class="token punctuation" >></span></span>
</code></pre>
<p>output:</p>
<pre><code class="lang-html"><span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>footer</span><span class="token punctuation" >></span></span>
  2016/04/07 17:11
<span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>footer</span><span class="token punctuation" >></span></span>
</code></pre>
</blockquote>
<h2 id="helper">helper</h2>
<p><code>helper</code> value has a lot of template helper for a complicated process in your template.</p>
<h3 id="helper-createcollectiontree-collection_name-">helper.createCollectionTree(collection_name)</h3>
<p>Aigis outputs grouped components by <code>output_collection</code> value in configuration file.
By default, Specify <code>category</code> and <code>tag</code>.
コレクションは次のように<code>/</code>を使うことで階層表現をすることができます。</p>
<pre><code class="lang-yaml"><span class="token punctuation" >---</span>
<span class="token key atrule" >name</span><span class="token punctuation" >:</span> component
<span class="token key atrule" >category</span><span class="token punctuation" >:</span>
  <span class="token punctuation" >-</span> parent/child
<span class="token punctuation" >---</span>
</code></pre>
<p>In the above case, This component belongs <code>child</code> category in the parent category.
スタイルガイドの出力はこの階層情報を持ちながら出力されます。
こういった階層をサイドメニューなどとして表現するのはとても面倒ですので、用意されていたヘルパーを使って簡単に行えるようにしてあります。</p>
<p>(The sidebar for this document was outputted by this helper.)</p>
<blockquote>
<h4 id="example">Example</h4>
<pre><code class="lang-ejs"><span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>nav</span><span class="token punctuation" >></span></span>
  <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>%-</span> <span class="token attr-name" >helper.renderCollectionTree('category')</span> <span class="token attr-name" >%</span><span class="token punctuation" >></span></span>
<span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>nav</span><span class="token punctuation" >></span></span>
</code></pre>
</blockquote>

      </div>
  
</div>

      </div>
    </main>
  </body>
</html>
